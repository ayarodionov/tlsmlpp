%-------------------------------------------------------------------
% @author Anatoly Rodionov <anatoly.ya.rodionov@gmail.com>
% @copyright 2021 Anatoly Rodionov
%-------------------------------------------------------------------
% @doc Tests for tlsmlpp_sup
% @end
%------------------------------------------------------------------

-module(mlpp_tests).

-include_lib("eunit/include/eunit.hrl").
-include("include/mlpp.hrl").

%-----------------------------------------------------------------------------------------------
mlpp_test() ->
  B1 = list_to_binary(test_msg(1)),
  ?assert(is_binary(B1)),
  ?assertEqual(B1, decode(encode(B1))),
  ok.

% -------------------------------------------------------------------------------------------

-spec test_msg(pos_integer()) -> binary().
test_msg(1) ->
"MSH|^~\&|ZIS|1^AHospital|||199605141144||ADT^A01|20031104082400|P|2.3|||
AL|NE|||8859/15|<CR>EVN|A01|20031104082400.0000+0100|20031104082400
PID||\"\"|10||Vries^Danny^D.^^de||19951202|M|||Rembrandlaan^7^Leiden^^7301TH^\"\"
^^P||\"\"|\"\"||\"\"|||||||\"\"|\"\"<CR>PV1||I|3w^301^\"\"^01|S|||100^van den Berg^^A.S.
^^\"\"^dr|\"\"||9||||H||||20031104082400.0000+0100<CR>".
%-----------------------------------------------------------------------------------------------
